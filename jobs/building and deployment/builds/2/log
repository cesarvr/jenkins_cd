Started by user [8mha:AAAAlx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzeEgZu/dLi1CL9xJTczDwACG0V4sAAAAA=[0mJenkins Admin
[EnvInject] - Loading node environment variables.
Building in workspace /var/lib/jenkins/jobs/building and deployment/workspace


OpenShift Pipeline Plugin: env vars for this job:  {AUTH_TOKEN=/run/secrets/kubernetes.io/serviceaccount/token, BUILD_CAUSE=MANUALTRIGGER, BUILD_CAUSE_MANUALTRIGGER=true, BUILD_DISPLAY_NAME=#2, BUILD_ID=2, BUILD_NUMBER=2, BUILD_TAG=jenkins-building and deployment-2, BUILD_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/job/building%20and%20deployment/2/, CLASSPATH=, CONFIG_PATH=/var/lib/jenkins/config.xml, container=docker, DEFAULT_SLAVE_DIRECTORY=/opt/app-root/jenkins, EXECUTOR_NUMBER=2, Hash=$Hash, HOME=/var/lib/jenkins, HOSTNAME=jenkins-3-xaumh, HUDSON_HOME=/var/lib/jenkins, HUDSON_SERVER_COOKIE=57d90b38cbc90b10, HUDSON_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/, ITEM_ROOTDIR=${ITEM_ROOTDIR}, JENKINS_HOME=/var/lib/jenkins, JENKINS_PASSWORD=password, JENKINS_PORT=tcp://172.30.230.239:8080, JENKINS_PORT_8080_TCP=tcp://172.30.230.239:8080, JENKINS_PORT_8080_TCP_ADDR=172.30.230.239, JENKINS_PORT_8080_TCP_PORT=8080, JENKINS_PORT_8080_TCP_PROTO=tcp, JENKINS_SERVER_COOKIE=57d90b38cbc90b10, JENKINS_SERVICE_HOST=172.30.230.239, JENKINS_SERVICE_PORT=8080, JENKINS_SERVICE_PORT_WEB=8080, JENKINS_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/, JENKINS_VERSION=1.651.2, JOB_NAME=building and deployment, JOB_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/job/building%20and%20deployment/, K8S_PLUGIN_POD_TEMPLATES=, KUBE_CA=/run/secrets/kubernetes.io/serviceaccount/ca.crt, KUBE_SA_DIR=/run/secrets/kubernetes.io/serviceaccount, KUBERNETES_CONFIG=, KUBERNETES_PORT=tcp://172.30.0.1:443, KUBERNETES_PORT_443_TCP=tcp://172.30.0.1:443, KUBERNETES_PORT_443_TCP_ADDR=172.30.0.1, KUBERNETES_PORT_443_TCP_PORT=443, KUBERNETES_PORT_443_TCP_PROTO=tcp, KUBERNETES_PORT_53_TCP=tcp://172.30.0.1:53, KUBERNETES_PORT_53_TCP_ADDR=172.30.0.1, KUBERNETES_PORT_53_TCP_PORT=53, KUBERNETES_PORT_53_TCP_PROTO=tcp, KUBERNETES_PORT_53_UDP=udp://172.30.0.1:53, KUBERNETES_PORT_53_UDP_ADDR=172.30.0.1, KUBERNETES_PORT_53_UDP_PORT=53, KUBERNETES_PORT_53_UDP_PROTO=udp, KUBERNETES_SERVICE_HOST=172.30.0.1, KUBERNETES_SERVICE_PORT=443, KUBERNETES_SERVICE_PORT_DNS=53, KUBERNETES_SERVICE_PORT_DNS_TCP=53, KUBERNETES_SERVICE_PORT_HTTPS=443, LD_PRELOAD=libnss_wrapper.so, MONGODB_PORT=tcp://172.30.204.66:27017, MONGODB_PORT_27017_TCP=tcp://172.30.204.66:27017, MONGODB_PORT_27017_TCP_ADDR=172.30.204.66, MONGODB_PORT_27017_TCP_PORT=27017, MONGODB_PORT_27017_TCP_PROTO=tcp, MONGODB_SERVICE_HOST=172.30.204.66, MONGODB_SERVICE_PORT=27017, MONGODB_SERVICE_PORT_MONGO=27017, NLSPATH=/usr/dt/lib/nls/msg/%L/%N.cat, NODE_LABELS=master, NODE_NAME=master, NSS_WRAPPER_GROUP=/etc/group, NSS_WRAPPER_PASSWD=/opt/openshift/passwd, oc_auth=--token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJyZXN0ZnVsLW5vZGUiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZGVmYXVsdC10b2tlbi1oZnVwaCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMDk0ZjUxNmQtNjBlMy0xMWU2LWIyYjMtNTI1NDAwNjU5YjJlIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnJlc3RmdWwtbm9kZTpkZWZhdWx0In0.o6UN2P4dzDuCeavbplU8clQSdblSsMjcAIZHPqnns4O2Pa9ms1100i6_4xVLQshS7DkxzcGmE6cJua2eyhJIrKk_EjjYVT8WQneUhugDAQ-J2zlKfVTBssX9whA2JAOHCQzh4SI4YtlxoyxowLuhW9y-vXRsp2DpmPBcBOt5TrcPXim8tmC04LScmuHhE9M6TY1OXU-IBY4VCUJ-4vFprEa3Gv3wbp5haNQvHHr9k1lh5dWI9H-cvh9UzRre-M6Ou58m5q-aLi1sc3JboXMXLBSqw0CNKY73laegXWu5fERtQyDGjC9Je3qzqg_1qhR8DkBV-o5DU_Js6TuuMXQB8g --certificate-authority=/run/secrets/kubernetes.io/serviceaccount/ca.crt, oc_cmd=oc --server=https://openshift.default.svc.cluster.local --token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJyZXN0ZnVsLW5vZGUiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZGVmYXVsdC10b2tlbi1oZnVwaCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMDk0ZjUxNmQtNjBlMy0xMWU2LWIyYjMtNTI1NDAwNjU5YjJlIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnJlc3RmdWwtbm9kZTpkZWZhdWx0In0.o6UN2P4dzDuCeavbplU8clQSdblSsMjcAIZHPqnns4O2Pa9ms1100i6_4xVLQshS7DkxzcGmE6cJua2eyhJIrKk_EjjYVT8WQneUhugDAQ-J2zlKfVTBssX9whA2JAOHCQzh4SI4YtlxoyxowLuhW9y-vXRsp2DpmPBcBOt5TrcPXim8tmC04LScmuHhE9M6TY1OXU-IBY4VCUJ-4vFprEa3Gv3wbp5haNQvHHr9k1lh5dWI9H-cvh9UzRre-M6Ou58m5q-aLi1sc3JboXMXLBSqw0CNKY73laegXWu5fERtQyDGjC9Je3qzqg_1qhR8DkBV-o5DU_Js6TuuMXQB8g --certificate-authority=/run/secrets/kubernetes.io/serviceaccount/ca.crt, OPENSHIFT_API_URL=https://openshift.default.svc.cluster.local, PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/var/lib/jenkins/.local/bin, PKGM=yum, PROJECT_NAME=restful-node, PWD=/, ROOT_BUILD_CAUSE=MANUALTRIGGER, ROOT_BUILD_CAUSE_MANUALTRIGGER=true, SHLVL=0, SLAVE_LABEL=jenkins-slave, STI_SCRIPTS_URL=image:///usr/libexec/s2i, WORKSPACE=/var/lib/jenkins/jobs/building and deployment/workspace, XFILESEARCHPATH=/usr/dt/app-defaults/%L/Dt}
inspectBuildEnvAndOverrideFields class name com.openshift.jenkins.plugins.pipeline.OpenShiftBuilder
inspectBuildEnvAndOverrideFields found field bldCfg with current value node-js
inspectBuildEnvAndOverrideFields for field bldCfg got val from build env null
inspectBuildEnvAndOverrideFields found field commitID with current value 
inspectBuildEnvAndOverrideFields for field commitID got val from build env null
inspectBuildEnvAndOverrideFields found field buildName with current value 
inspectBuildEnvAndOverrideFields for field buildName got val from build env null
inspectBuildEnvAndOverrideFields found field showBuildLogs with current value false
inspectBuildEnvAndOverrideFields for field showBuildLogs got val from build env null
inspectBuildEnvAndOverrideFields found field checkForTriggeredDeployments with current value false
inspectBuildEnvAndOverrideFields for field checkForTriggeredDeployments got val from build env null
inspectBuildEnvAndOverrideFields found field waitTime with current value 
inspectBuildEnvAndOverrideFields for field waitTime got val from build env null
inspectBuildEnvAndOverrideFields found field apiURL with current value https://10.2.2.2:8443
inspectBuildEnvAndOverrideFields for field apiURL got val from build env null
inspectBuildEnvAndOverrideFields found field namespace with current value node6-rest-example
inspectBuildEnvAndOverrideFields for field namespace got val from build env null
inspectBuildEnvAndOverrideFields found field authToken with current value CH1M4WFh7Ksja-CPza8qM188vcMplZa9dUUgb0IGBg0
inspectBuildEnvAndOverrideFields for field authToken got val from build env null
inspectBuildEnvAndOverrideFields found field verbose with current value true
inspectBuildEnvAndOverrideFields for field verbose got val from build env null
inspectBuildEnvAndOverrideFields found field bearerToken with current value null
inspectBuildEnvAndOverrideFields found field auth with current value null
 before pull defaults apiURL https://10.2.2.2:8443 namespace node6-rest-example env {AUTH_TOKEN=/run/secrets/kubernetes.io/serviceaccount/token, BUILD_CAUSE=MANUALTRIGGER, BUILD_CAUSE_MANUALTRIGGER=true, BUILD_DISPLAY_NAME=#2, BUILD_ID=2, BUILD_NUMBER=2, BUILD_TAG=jenkins-building and deployment-2, BUILD_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/job/building%20and%20deployment/2/, CLASSPATH=, CONFIG_PATH=/var/lib/jenkins/config.xml, container=docker, DEFAULT_SLAVE_DIRECTORY=/opt/app-root/jenkins, EXECUTOR_NUMBER=2, Hash=$Hash, HOME=/var/lib/jenkins, HOSTNAME=jenkins-3-xaumh, HUDSON_HOME=/var/lib/jenkins, HUDSON_SERVER_COOKIE=57d90b38cbc90b10, HUDSON_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/, ITEM_ROOTDIR=${ITEM_ROOTDIR}, JENKINS_HOME=/var/lib/jenkins, JENKINS_PASSWORD=password, JENKINS_PORT=tcp://172.30.230.239:8080, JENKINS_PORT_8080_TCP=tcp://172.30.230.239:8080, JENKINS_PORT_8080_TCP_ADDR=172.30.230.239, JENKINS_PORT_8080_TCP_PORT=8080, JENKINS_PORT_8080_TCP_PROTO=tcp, JENKINS_SERVER_COOKIE=57d90b38cbc90b10, JENKINS_SERVICE_HOST=172.30.230.239, JENKINS_SERVICE_PORT=8080, JENKINS_SERVICE_PORT_WEB=8080, JENKINS_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/, JENKINS_VERSION=1.651.2, JOB_NAME=building and deployment, JOB_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/job/building%20and%20deployment/, K8S_PLUGIN_POD_TEMPLATES=, KUBE_CA=/run/secrets/kubernetes.io/serviceaccount/ca.crt, KUBE_SA_DIR=/run/secrets/kubernetes.io/serviceaccount, KUBERNETES_CONFIG=, KUBERNETES_PORT=tcp://172.30.0.1:443, KUBERNETES_PORT_443_TCP=tcp://172.30.0.1:443, KUBERNETES_PORT_443_TCP_ADDR=172.30.0.1, KUBERNETES_PORT_443_TCP_PORT=443, KUBERNETES_PORT_443_TCP_PROTO=tcp, KUBERNETES_PORT_53_TCP=tcp://172.30.0.1:53, KUBERNETES_PORT_53_TCP_ADDR=172.30.0.1, KUBERNETES_PORT_53_TCP_PORT=53, KUBERNETES_PORT_53_TCP_PROTO=tcp, KUBERNETES_PORT_53_UDP=udp://172.30.0.1:53, KUBERNETES_PORT_53_UDP_ADDR=172.30.0.1, KUBERNETES_PORT_53_UDP_PORT=53, KUBERNETES_PORT_53_UDP_PROTO=udp, KUBERNETES_SERVICE_HOST=172.30.0.1, KUBERNETES_SERVICE_PORT=443, KUBERNETES_SERVICE_PORT_DNS=53, KUBERNETES_SERVICE_PORT_DNS_TCP=53, KUBERNETES_SERVICE_PORT_HTTPS=443, LD_PRELOAD=libnss_wrapper.so, MONGODB_PORT=tcp://172.30.204.66:27017, MONGODB_PORT_27017_TCP=tcp://172.30.204.66:27017, MONGODB_PORT_27017_TCP_ADDR=172.30.204.66, MONGODB_PORT_27017_TCP_PORT=27017, MONGODB_PORT_27017_TCP_PROTO=tcp, MONGODB_SERVICE_HOST=172.30.204.66, MONGODB_SERVICE_PORT=27017, MONGODB_SERVICE_PORT_MONGO=27017, NLSPATH=/usr/dt/lib/nls/msg/%L/%N.cat, NODE_LABELS=master, NODE_NAME=master, NSS_WRAPPER_GROUP=/etc/group, NSS_WRAPPER_PASSWD=/opt/openshift/passwd, oc_auth=--token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJyZXN0ZnVsLW5vZGUiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZGVmYXVsdC10b2tlbi1oZnVwaCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMDk0ZjUxNmQtNjBlMy0xMWU2LWIyYjMtNTI1NDAwNjU5YjJlIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnJlc3RmdWwtbm9kZTpkZWZhdWx0In0.o6UN2P4dzDuCeavbplU8clQSdblSsMjcAIZHPqnns4O2Pa9ms1100i6_4xVLQshS7DkxzcGmE6cJua2eyhJIrKk_EjjYVT8WQneUhugDAQ-J2zlKfVTBssX9whA2JAOHCQzh4SI4YtlxoyxowLuhW9y-vXRsp2DpmPBcBOt5TrcPXim8tmC04LScmuHhE9M6TY1OXU-IBY4VCUJ-4vFprEa3Gv3wbp5haNQvHHr9k1lh5dWI9H-cvh9UzRre-M6Ou58m5q-aLi1sc3JboXMXLBSqw0CNKY73laegXWu5fERtQyDGjC9Je3qzqg_1qhR8DkBV-o5DU_Js6TuuMXQB8g --certificate-authority=/run/secrets/kubernetes.io/serviceaccount/ca.crt, oc_cmd=oc --server=https://openshift.default.svc.cluster.local --token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJyZXN0ZnVsLW5vZGUiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZGVmYXVsdC10b2tlbi1oZnVwaCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMDk0ZjUxNmQtNjBlMy0xMWU2LWIyYjMtNTI1NDAwNjU5YjJlIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnJlc3RmdWwtbm9kZTpkZWZhdWx0In0.o6UN2P4dzDuCeavbplU8clQSdblSsMjcAIZHPqnns4O2Pa9ms1100i6_4xVLQshS7DkxzcGmE6cJua2eyhJIrKk_EjjYVT8WQneUhugDAQ-J2zlKfVTBssX9whA2JAOHCQzh4SI4YtlxoyxowLuhW9y-vXRsp2DpmPBcBOt5TrcPXim8tmC04LScmuHhE9M6TY1OXU-IBY4VCUJ-4vFprEa3Gv3wbp5haNQvHHr9k1lh5dWI9H-cvh9UzRre-M6Ou58m5q-aLi1sc3JboXMXLBSqw0CNKY73laegXWu5fERtQyDGjC9Je3qzqg_1qhR8DkBV-o5DU_Js6TuuMXQB8g --certificate-authority=/run/secrets/kubernetes.io/serviceaccount/ca.crt, OPENSHIFT_API_URL=https://openshift.default.svc.cluster.local, PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/var/lib/jenkins/.local/bin, PKGM=yum, PROJECT_NAME=restful-node, PWD=/, ROOT_BUILD_CAUSE=MANUALTRIGGER, ROOT_BUILD_CAUSE_MANUALTRIGGER=true, SHLVL=0, SLAVE_LABEL=jenkins-slave, STI_SCRIPTS_URL=image:///usr/libexec/s2i, WORKSPACE=/var/lib/jenkins/jobs/building and deployment/workspace, XFILESEARCHPATH=/usr/dt/app-defaults/%L/Dt}
 after pull defaults {}
Auth - cert file exists - true, CA_CERT - null
 skip tls - null



Auth authToken len 43


Starting the "Trigger OpenShift Build" step with build config "node-js" from the project "node6-rest-example".

OpenShiftBuilder logger follow false

OpenShiftBuilder build config retrieved {"kind" : "BuildConfig", "apiVersion" : "v1", "metadata" : {"name" : "node-js", "namespace" : "node6-rest-example", "selfLink" : "/oapi/v1/namespaces/node6-rest-example/buildconfigs/node-js", "uid" : "0ce0339e-6303-11e6-b8b0-525400659b2e", "resourceVersion" : "279623", "creationTimestamp" : "2016-08-15T16:12:23Z", "labels" : {"app" : "node-js"}, "annotations" : {"openshift.io/generated-by" : "OpenShiftWebConsole"}}, "spec" : {"triggers" : [{"type" : "Generic", "generic" : {"secret" : "e8936ab460c046ae"}},{"type" : "GitHub", "github" : {"secret" : "fb24bdf4edb1b20c"}},{"type" : "ImageChange", "imageChange" : {"lastTriggeredImageID" : "ryanj/centos7-s2i-nodejs@sha256:6e3a35dd250a404768d329ef4d11446864987a1102b6cffc27b678416b395271"}},{"type" : "ConfigChange"}], "source" : {"type" : "Git", "git" : {"uri" : "https://github.com/cesarvr/micro_service", "ref" : "master"}}, "strategy" : {"type" : "Source", "sourceStrategy" : {"from" : {"kind" : "ImageStreamTag", "namespace" : "openshift", "name" : "centos7-s2i-nodejs:6.2"}}}, "output" : {"to" : {"kind" : "ImageStreamTag", "name" : "node-js:latest"}}}, "status" : {"lastVersion" : 2}} buildName 
  Started build "node-js-3" and waiting for build completion ...

OpenShiftBuilder global wait time 300000 and step specific 

 OpenShiftBuilder looking for build node-js-3

OpenShiftBuilder found pod node-js-1-bedfq

OpenShiftBuilder found pod node-js-1-build

OpenShiftBuilder found pod node-js-2-build

OpenShiftBuilder found pod node-js-1-bedfq

OpenShiftBuilder found pod node-js-1-build

OpenShiftBuilder found pod node-js-2-build

OpenShiftBuilder found pod node-js-3-build

OpenShiftBuilder found build pod {"metadata" : {"name" : "node-js-3-build", "namespace" : "node6-rest-example", "selfLink" : "/api/v1/namespaces/node6-rest-example/pods/node-js-3-build", "uid" : "885095d7-641e-11e6-b8b0-525400659b2e", "resourceVersion" : "284339", "creationTimestamp" : "2016-08-17T02:01:38Z", "labels" : {"openshift.io/build.name" : "node-js-3"}, "annotations" : {"openshift.io/build.name" : "node-js-3", "openshift.io/scc" : "privileged"}}, "spec" : {"volumes" : [{"name" : "docker-socket", "hostPath" : {"path" : "/var/run/docker.sock"}},{"name" : "builder-dockercfg-0babi-push", "secret" : {"secretName" : "builder-dockercfg-0babi"}},{"name" : "builder-token-8k5jq", "secret" : {"secretName" : "builder-token-8k5jq"}}], "containers" : [{"name" : "sti-build", "image" : "openshift/origin-sti-builder:v1.2.0", "args" : ["--loglevel=0"], "env" : [{"name" : "BUILD", "value" : "{\"kind\":\"Build\",\"apiVersion\":\"v1\",\"metadata\":{\"name\":\"node-js-3\",\"namespace\":\"node6-rest-example\",\"selfLink\":\"/oapi/v1/namespaces/node6-rest-example/builds/node-js-3\",\"uid\":\"882499a0-641e-11e6-b8b0-525400659b2e\",\"resourceVersion\":\"284331\",\"creationTimestamp\":\"2016-08-17T02:01:37Z\",\"labels\":{\"app\":\"node-js\",\"buildconfig\":\"node-js\",\"openshift.io/build-config.name\":\"node-js\"},\"annotations\":{\"openshift.io/build.number\":\"3\"}},\"spec\":{\"serviceAccount\":\"builder\",\"source\":{\"type\":\"Git\",\"git\":{\"uri\":\"https://github.com/cesarvr/micro_service\",\"ref\":\"master\"},\"secrets\":null},\"strategy\":{\"type\":\"Source\",\"sourceStrategy\":{\"from\":{\"kind\":\"DockerImage\",\"name\":\"ryanj/centos7-s2i-nodejs@sha256:6e3a35dd250a404768d329ef4d11446864987a1102b6cffc27b678416b395271\"}}},\"output\":{\"to\":{\"kind\":\"DockerImage\",\"name\":\"172.30.200.195:5000/node6-rest-example/node-js:latest\"},\"pushSecret\":{\"name\":\"builder-dockercfg-0babi\"}},\"resources\":{},\"postCommit\":{}},\"status\":{\"phase\":\"New\",\"outputDockerImageReference\":\"172.30.200.195:5000/node6-rest-example/node-js:latest\",\"config\":{\"kind\":\"BuildConfig\",\"namespace\":\"node6-rest-example\",\"name\":\"node-js\"}}}\n"},{"name" : "BUILD_LOGLEVEL", "value" : "0"},{"name" : "SOURCE_REPOSITORY", "value" : "https://github.com/cesarvr/micro_service"},{"name" : "SOURCE_URI", "value" : "https://github.com/cesarvr/micro_service"},{"name" : "SOURCE_REF", "value" : "master"},{"name" : "ORIGIN_VERSION", "value" : "v1.2.0"},{"name" : "ALLOWED_UIDS", "value" : "1-"},{"name" : "DROP_CAPS", "value" : "KILL,MKNOD,SETGID,SETUID,SYS_CHROOT"},{"name" : "PUSH_DOCKERCFG_PATH", "value" : "/var/run/secrets/openshift.io/push"}], "volumeMounts" : [{"name" : "docker-socket", "mountPath" : "/var/run/docker.sock"},{"name" : "builder-dockercfg-0babi-push", "readOnly" : true, "mountPath" : "/var/run/secrets/openshift.io/push"},{"name" : "builder-token-8k5jq", "readOnly" : true, "mountPath" : "/var/run/secrets/kubernetes.io/serviceaccount"}], "terminationMessagePath" : "/dev/termination-log", "imagePullPolicy" : "IfNotPresent", "securityContext" : {"privileged" : true}}], "restartPolicy" : "Never", "terminationGracePeriodSeconds" : 30, "dnsPolicy" : "ClusterFirst", "host" : "origin", "serviceAccountName" : "builder", "serviceAccount" : "builder", "nodeName" : "origin", "imagePullSecrets" : [{"name" : "builder-dockercfg-0babi"}]}, "status" : {"phase" : "Pending", "conditions" : [{"type" : "Ready", "status" : "False", "lastTransitionTime" : "2016-08-17T02:01:38Z", "reason" : "ContainersNotReady", "message" : "containers with unready status: [sti-build]"}], "hostIP" : "10.0.2.15", "startTime" : "2016-08-17T02:01:38Z", "containerStatuses" : [{"name" : "sti-build", "state" : {"waiting" : {"reason" : "ContainerCreating", "message" : "Image: openshift/origin-sti-builder:v1.2.0 is ready, container is creating"}}, "ready" : false, "restartCount" : 0, "image" : "openshift/origin-sti-builder:v1.2.0", "imageID" : ""}]}, "apiVersion" : "v1", "kind" : "Pod"}

OpenShiftBuilder bld state:  New

OpenShiftBuilder bld state:  New

OpenShiftBuilder bld state:  New

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Running

OpenShiftBuilder bld state:  Complete

OpenShiftBuilder post bld launch bld state:  Complete

 checking if the build config node-js got the image changes it needed


 build config output image tag node-js:latest

 checking triggers on dc node-js

 trigger fired for deployment

 done checking dc node-js

 adding dc to check node-js

 looking at image ids for node-js with json {
    "metadata" : {
        "name" : "node-js",
        "namespace" : "node6-rest-example",
        "selfLink" : "/oapi/v1/namespaces/node6-rest-example/deploymentconfigs/node-js",
        "uid" : "0cde62dc-6303-11e6-b8b0-525400659b2e",
        "resourceVersion" : "284400",
        "creationTimestamp" : "2016-08-15T16:12:23Z",
        "labels" : {"app" : "node-js"},
        "annotations" : {"openshift.io/generated-by" : "OpenShiftWebConsole"}
    },
    "spec" : {
        "strategy" : {
            "type" : "Rolling",
            "rollingParams" : {
                "updatePeriodSeconds" : 1,
                "intervalSeconds" : 1,
                "timeoutSeconds" : 600,
                "maxUnavailable" : "25%",
                "maxSurge" : "25%"
            },
            "resources" : {}
        },
        "triggers" : [
            {
                "type" : "ImageChange",
                "imageChangeParams" : {
                    "automatic" : true,
                    "containerNames" : ["node-js"],
                    "from" : {
                        "kind" : "ImageStreamTag",
                        "name" : "node-js:latest"
                    },
                    "lastTriggeredImage" : "172.30.200.195:5000/node6-rest-example/node-js@sha256:2952645b9a5d736d9f322eaf26267de5e6abc48a2f9b52ded3b53f9ba454499e"
                }
            },
            {"type" : "ConfigChange"}
        ],
        "replicas" : 1,
        "test" : false,
        "selector" : {"deploymentconfig" : "node-js"},
        "template" : {
            "metadata" : {
                "creationTimestamp" : null,
                "labels" : {
                    "app" : "node-js",
                    "deploymentconfig" : "node-js"
                }
            },
            "spec" : {
                "containers" : [{
                    "name" : "node-js",
                    "image" : "172.30.200.195:5000/node6-rest-example/node-js@sha256:2952645b9a5d736d9f322eaf26267de5e6abc48a2f9b52ded3b53f9ba454499e",
                    "ports" : [{
                        "containerPort" : 8080,
                        "protocol" : "TCP"
                    }],
                    "resources" : {},
                    "terminationMessagePath" : "/dev/termination-log",
                    "imagePullPolicy" : "Always"
                }],
                "restartPolicy" : "Always",
                "terminationGracePeriodSeconds" : 30,
                "dnsPolicy" : "ClusterFirst",
                "securityContext" : {}
            }
        }
    },
    "status" : {
        "latestVersion" : 2,
        "details" : {"causes" : [{
            "type" : "ImageChange",
            "imageTrigger" : {"from" : {
                "kind" : "ImageStreamTag",
                "name" : "node-js:latest"
            }}
        }]}
    },
    "apiVersion" : "v1",
    "kind" : "DeploymentConfig"
}

 image did change, new image 172.30.200.195:5000/node6-rest-example/node-js@sha256:2952645b9a5d736d9f322eaf26267de5e6abc48a2f9b52ded3b53f9ba454499e old image 172.30.200.195:5000/node6-rest-example/node-js@sha256:77267494fc7539576dffa4000b1c557a1938555f3f407780336b0d6c93ef0e02

 dc node-js did trigger based on image change as expected


Exiting "Trigger OpenShift Build" successfully; build "node-js-3" has completed with status:  [Complete].


OpenShift Pipeline Plugin: env vars for this job:  {AUTH_TOKEN=/run/secrets/kubernetes.io/serviceaccount/token, BUILD_CAUSE=MANUALTRIGGER, BUILD_CAUSE_MANUALTRIGGER=true, BUILD_DISPLAY_NAME=#2, BUILD_ID=2, BUILD_NUMBER=2, BUILD_TAG=jenkins-building and deployment-2, BUILD_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/job/building%20and%20deployment/2/, CLASSPATH=, CONFIG_PATH=/var/lib/jenkins/config.xml, container=docker, DEFAULT_SLAVE_DIRECTORY=/opt/app-root/jenkins, EXECUTOR_NUMBER=2, Hash=$Hash, HOME=/var/lib/jenkins, HOSTNAME=jenkins-3-xaumh, HUDSON_HOME=/var/lib/jenkins, HUDSON_SERVER_COOKIE=57d90b38cbc90b10, HUDSON_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/, ITEM_ROOTDIR=${ITEM_ROOTDIR}, JENKINS_HOME=/var/lib/jenkins, JENKINS_PASSWORD=password, JENKINS_PORT=tcp://172.30.230.239:8080, JENKINS_PORT_8080_TCP=tcp://172.30.230.239:8080, JENKINS_PORT_8080_TCP_ADDR=172.30.230.239, JENKINS_PORT_8080_TCP_PORT=8080, JENKINS_PORT_8080_TCP_PROTO=tcp, JENKINS_SERVER_COOKIE=57d90b38cbc90b10, JENKINS_SERVICE_HOST=172.30.230.239, JENKINS_SERVICE_PORT=8080, JENKINS_SERVICE_PORT_WEB=8080, JENKINS_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/, JENKINS_VERSION=1.651.2, JOB_NAME=building and deployment, JOB_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/job/building%20and%20deployment/, K8S_PLUGIN_POD_TEMPLATES=, KUBE_CA=/run/secrets/kubernetes.io/serviceaccount/ca.crt, KUBE_SA_DIR=/run/secrets/kubernetes.io/serviceaccount, KUBERNETES_CONFIG=, KUBERNETES_PORT=tcp://172.30.0.1:443, KUBERNETES_PORT_443_TCP=tcp://172.30.0.1:443, KUBERNETES_PORT_443_TCP_ADDR=172.30.0.1, KUBERNETES_PORT_443_TCP_PORT=443, KUBERNETES_PORT_443_TCP_PROTO=tcp, KUBERNETES_PORT_53_TCP=tcp://172.30.0.1:53, KUBERNETES_PORT_53_TCP_ADDR=172.30.0.1, KUBERNETES_PORT_53_TCP_PORT=53, KUBERNETES_PORT_53_TCP_PROTO=tcp, KUBERNETES_PORT_53_UDP=udp://172.30.0.1:53, KUBERNETES_PORT_53_UDP_ADDR=172.30.0.1, KUBERNETES_PORT_53_UDP_PORT=53, KUBERNETES_PORT_53_UDP_PROTO=udp, KUBERNETES_SERVICE_HOST=172.30.0.1, KUBERNETES_SERVICE_PORT=443, KUBERNETES_SERVICE_PORT_DNS=53, KUBERNETES_SERVICE_PORT_DNS_TCP=53, KUBERNETES_SERVICE_PORT_HTTPS=443, LD_PRELOAD=libnss_wrapper.so, MONGODB_PORT=tcp://172.30.204.66:27017, MONGODB_PORT_27017_TCP=tcp://172.30.204.66:27017, MONGODB_PORT_27017_TCP_ADDR=172.30.204.66, MONGODB_PORT_27017_TCP_PORT=27017, MONGODB_PORT_27017_TCP_PROTO=tcp, MONGODB_SERVICE_HOST=172.30.204.66, MONGODB_SERVICE_PORT=27017, MONGODB_SERVICE_PORT_MONGO=27017, NLSPATH=/usr/dt/lib/nls/msg/%L/%N.cat, NODE_LABELS=master, NODE_NAME=master, NSS_WRAPPER_GROUP=/etc/group, NSS_WRAPPER_PASSWD=/opt/openshift/passwd, oc_auth=--token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJyZXN0ZnVsLW5vZGUiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZGVmYXVsdC10b2tlbi1oZnVwaCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMDk0ZjUxNmQtNjBlMy0xMWU2LWIyYjMtNTI1NDAwNjU5YjJlIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnJlc3RmdWwtbm9kZTpkZWZhdWx0In0.o6UN2P4dzDuCeavbplU8clQSdblSsMjcAIZHPqnns4O2Pa9ms1100i6_4xVLQshS7DkxzcGmE6cJua2eyhJIrKk_EjjYVT8WQneUhugDAQ-J2zlKfVTBssX9whA2JAOHCQzh4SI4YtlxoyxowLuhW9y-vXRsp2DpmPBcBOt5TrcPXim8tmC04LScmuHhE9M6TY1OXU-IBY4VCUJ-4vFprEa3Gv3wbp5haNQvHHr9k1lh5dWI9H-cvh9UzRre-M6Ou58m5q-aLi1sc3JboXMXLBSqw0CNKY73laegXWu5fERtQyDGjC9Je3qzqg_1qhR8DkBV-o5DU_Js6TuuMXQB8g --certificate-authority=/run/secrets/kubernetes.io/serviceaccount/ca.crt, oc_cmd=oc --server=https://openshift.default.svc.cluster.local --token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJyZXN0ZnVsLW5vZGUiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZGVmYXVsdC10b2tlbi1oZnVwaCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMDk0ZjUxNmQtNjBlMy0xMWU2LWIyYjMtNTI1NDAwNjU5YjJlIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnJlc3RmdWwtbm9kZTpkZWZhdWx0In0.o6UN2P4dzDuCeavbplU8clQSdblSsMjcAIZHPqnns4O2Pa9ms1100i6_4xVLQshS7DkxzcGmE6cJua2eyhJIrKk_EjjYVT8WQneUhugDAQ-J2zlKfVTBssX9whA2JAOHCQzh4SI4YtlxoyxowLuhW9y-vXRsp2DpmPBcBOt5TrcPXim8tmC04LScmuHhE9M6TY1OXU-IBY4VCUJ-4vFprEa3Gv3wbp5haNQvHHr9k1lh5dWI9H-cvh9UzRre-M6Ou58m5q-aLi1sc3JboXMXLBSqw0CNKY73laegXWu5fERtQyDGjC9Je3qzqg_1qhR8DkBV-o5DU_Js6TuuMXQB8g --certificate-authority=/run/secrets/kubernetes.io/serviceaccount/ca.crt, OPENSHIFT_API_URL=https://openshift.default.svc.cluster.local, PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/var/lib/jenkins/.local/bin, PKGM=yum, PROJECT_NAME=restful-node, PWD=/, ROOT_BUILD_CAUSE=MANUALTRIGGER, ROOT_BUILD_CAUSE_MANUALTRIGGER=true, SHLVL=0, SLAVE_LABEL=jenkins-slave, STI_SCRIPTS_URL=image:///usr/libexec/s2i, WORKSPACE=/var/lib/jenkins/jobs/building and deployment/workspace, XFILESEARCHPATH=/usr/dt/app-defaults/%L/Dt}
inspectBuildEnvAndOverrideFields class name com.openshift.jenkins.plugins.pipeline.OpenShiftDeployer
inspectBuildEnvAndOverrideFields found field depCfg with current value node-js
inspectBuildEnvAndOverrideFields for field depCfg got val from build env null
inspectBuildEnvAndOverrideFields found field apiURL with current value https://10.2.2.2:8443
inspectBuildEnvAndOverrideFields for field apiURL got val from build env null
inspectBuildEnvAndOverrideFields found field namespace with current value 
inspectBuildEnvAndOverrideFields for field namespace got val from build env null
inspectBuildEnvAndOverrideFields found field authToken with current value CH1M4WFh7Ksja-CPza8qM188vcMplZa9dUUgb0IGBg0
inspectBuildEnvAndOverrideFields for field authToken got val from build env null
inspectBuildEnvAndOverrideFields found field verbose with current value true
inspectBuildEnvAndOverrideFields for field verbose got val from build env null
inspectBuildEnvAndOverrideFields found field bearerToken with current value null
inspectBuildEnvAndOverrideFields found field auth with current value null
 before pull defaults apiURL https://10.2.2.2:8443 namespace  env {AUTH_TOKEN=/run/secrets/kubernetes.io/serviceaccount/token, BUILD_CAUSE=MANUALTRIGGER, BUILD_CAUSE_MANUALTRIGGER=true, BUILD_DISPLAY_NAME=#2, BUILD_ID=2, BUILD_NUMBER=2, BUILD_TAG=jenkins-building and deployment-2, BUILD_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/job/building%20and%20deployment/2/, CLASSPATH=, CONFIG_PATH=/var/lib/jenkins/config.xml, container=docker, DEFAULT_SLAVE_DIRECTORY=/opt/app-root/jenkins, EXECUTOR_NUMBER=2, Hash=$Hash, HOME=/var/lib/jenkins, HOSTNAME=jenkins-3-xaumh, HUDSON_HOME=/var/lib/jenkins, HUDSON_SERVER_COOKIE=57d90b38cbc90b10, HUDSON_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/, ITEM_ROOTDIR=${ITEM_ROOTDIR}, JENKINS_HOME=/var/lib/jenkins, JENKINS_PASSWORD=password, JENKINS_PORT=tcp://172.30.230.239:8080, JENKINS_PORT_8080_TCP=tcp://172.30.230.239:8080, JENKINS_PORT_8080_TCP_ADDR=172.30.230.239, JENKINS_PORT_8080_TCP_PORT=8080, JENKINS_PORT_8080_TCP_PROTO=tcp, JENKINS_SERVER_COOKIE=57d90b38cbc90b10, JENKINS_SERVICE_HOST=172.30.230.239, JENKINS_SERVICE_PORT=8080, JENKINS_SERVICE_PORT_WEB=8080, JENKINS_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/, JENKINS_VERSION=1.651.2, JOB_NAME=building and deployment, JOB_URL=https://jenkins-restful-node.apps.10.2.2.2.xip.io/job/building%20and%20deployment/, K8S_PLUGIN_POD_TEMPLATES=, KUBE_CA=/run/secrets/kubernetes.io/serviceaccount/ca.crt, KUBE_SA_DIR=/run/secrets/kubernetes.io/serviceaccount, KUBERNETES_CONFIG=, KUBERNETES_PORT=tcp://172.30.0.1:443, KUBERNETES_PORT_443_TCP=tcp://172.30.0.1:443, KUBERNETES_PORT_443_TCP_ADDR=172.30.0.1, KUBERNETES_PORT_443_TCP_PORT=443, KUBERNETES_PORT_443_TCP_PROTO=tcp, KUBERNETES_PORT_53_TCP=tcp://172.30.0.1:53, KUBERNETES_PORT_53_TCP_ADDR=172.30.0.1, KUBERNETES_PORT_53_TCP_PORT=53, KUBERNETES_PORT_53_TCP_PROTO=tcp, KUBERNETES_PORT_53_UDP=udp://172.30.0.1:53, KUBERNETES_PORT_53_UDP_ADDR=172.30.0.1, KUBERNETES_PORT_53_UDP_PORT=53, KUBERNETES_PORT_53_UDP_PROTO=udp, KUBERNETES_SERVICE_HOST=172.30.0.1, KUBERNETES_SERVICE_PORT=443, KUBERNETES_SERVICE_PORT_DNS=53, KUBERNETES_SERVICE_PORT_DNS_TCP=53, KUBERNETES_SERVICE_PORT_HTTPS=443, LD_PRELOAD=libnss_wrapper.so, MONGODB_PORT=tcp://172.30.204.66:27017, MONGODB_PORT_27017_TCP=tcp://172.30.204.66:27017, MONGODB_PORT_27017_TCP_ADDR=172.30.204.66, MONGODB_PORT_27017_TCP_PORT=27017, MONGODB_PORT_27017_TCP_PROTO=tcp, MONGODB_SERVICE_HOST=172.30.204.66, MONGODB_SERVICE_PORT=27017, MONGODB_SERVICE_PORT_MONGO=27017, NLSPATH=/usr/dt/lib/nls/msg/%L/%N.cat, NODE_LABELS=master, NODE_NAME=master, NSS_WRAPPER_GROUP=/etc/group, NSS_WRAPPER_PASSWD=/opt/openshift/passwd, oc_auth=--token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJyZXN0ZnVsLW5vZGUiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZGVmYXVsdC10b2tlbi1oZnVwaCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMDk0ZjUxNmQtNjBlMy0xMWU2LWIyYjMtNTI1NDAwNjU5YjJlIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnJlc3RmdWwtbm9kZTpkZWZhdWx0In0.o6UN2P4dzDuCeavbplU8clQSdblSsMjcAIZHPqnns4O2Pa9ms1100i6_4xVLQshS7DkxzcGmE6cJua2eyhJIrKk_EjjYVT8WQneUhugDAQ-J2zlKfVTBssX9whA2JAOHCQzh4SI4YtlxoyxowLuhW9y-vXRsp2DpmPBcBOt5TrcPXim8tmC04LScmuHhE9M6TY1OXU-IBY4VCUJ-4vFprEa3Gv3wbp5haNQvHHr9k1lh5dWI9H-cvh9UzRre-M6Ou58m5q-aLi1sc3JboXMXLBSqw0CNKY73laegXWu5fERtQyDGjC9Je3qzqg_1qhR8DkBV-o5DU_Js6TuuMXQB8g --certificate-authority=/run/secrets/kubernetes.io/serviceaccount/ca.crt, oc_cmd=oc --server=https://openshift.default.svc.cluster.local --token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJyZXN0ZnVsLW5vZGUiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZGVmYXVsdC10b2tlbi1oZnVwaCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMDk0ZjUxNmQtNjBlMy0xMWU2LWIyYjMtNTI1NDAwNjU5YjJlIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnJlc3RmdWwtbm9kZTpkZWZhdWx0In0.o6UN2P4dzDuCeavbplU8clQSdblSsMjcAIZHPqnns4O2Pa9ms1100i6_4xVLQshS7DkxzcGmE6cJua2eyhJIrKk_EjjYVT8WQneUhugDAQ-J2zlKfVTBssX9whA2JAOHCQzh4SI4YtlxoyxowLuhW9y-vXRsp2DpmPBcBOt5TrcPXim8tmC04LScmuHhE9M6TY1OXU-IBY4VCUJ-4vFprEa3Gv3wbp5haNQvHHr9k1lh5dWI9H-cvh9UzRre-M6Ou58m5q-aLi1sc3JboXMXLBSqw0CNKY73laegXWu5fERtQyDGjC9Je3qzqg_1qhR8DkBV-o5DU_Js6TuuMXQB8g --certificate-authority=/run/secrets/kubernetes.io/serviceaccount/ca.crt, OPENSHIFT_API_URL=https://openshift.default.svc.cluster.local, PATH=/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/var/lib/jenkins/.local/bin, PKGM=yum, PROJECT_NAME=restful-node, PWD=/, ROOT_BUILD_CAUSE=MANUALTRIGGER, ROOT_BUILD_CAUSE_MANUALTRIGGER=true, SHLVL=0, SLAVE_LABEL=jenkins-slave, STI_SCRIPTS_URL=image:///usr/libexec/s2i, WORKSPACE=/var/lib/jenkins/jobs/building and deployment/workspace, XFILESEARCHPATH=/usr/dt/app-defaults/%L/Dt}
 after pull defaults {namespace=restful-node}
Auth - cert file exists - true, CA_CERT - null
 skip tls - null



Auth authToken len 43


Starting "Trigger OpenShift Deployment" with deployment config "node-js" from the project "restful-node".

OpenShiftDeployer wait 60000
ERROR: Build step failed with exception
[8mha:AAAAWB+LCAAAAAAAAP9b85aBtbiIQSmjNKU4P08vOT+vOD8nVc8DzHWtSE4tKMnMz/PLL0ldFVf2c+b/lb5MDAwVRQxSaBqcITRIIQMEMIIUFgAAckCEiWAAAAA=[0mcom.openshift.restclient.OpenShiftException: Could not get resource node-js in namespace restful-node: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Failure","message":"deploymentconfigs \"node-js\" not found","reason":"NotFound","details":{"name":"node-js","kind":"deploymentconfigs"},"code":404}

	at com.openshift.internal.restclient.DefaultClient.createOpenShiftException(DefaultClient.java:488)
	at com.openshift.internal.restclient.DefaultClient.get(DefaultClient.java:312)
	at com.openshift.jenkins.plugins.pipeline.OpenShiftDeployer.coreLogic(OpenShiftDeployer.java:93)
	at com.openshift.jenkins.plugins.pipeline.IOpenShiftPlugin.doItCore(IOpenShiftPlugin.java:116)
	at com.openshift.jenkins.plugins.pipeline.IOpenShiftPlugin.doIt(IOpenShiftPlugin.java:129)
	at com.openshift.jenkins.plugins.pipeline.OpenShiftBaseStep.perform(OpenShiftBaseStep.java:98)
	at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)
	at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:782)
	at hudson.model.Build$BuildExecution.build(Build.java:205)
	at hudson.model.Build$BuildExecution.doRun(Build.java:162)
	at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:534)
	at hudson.model.Run.execute(Run.java:1738)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:98)
	at hudson.model.Executor.run(Executor.java:410)
Caused by: com.openshift.internal.restclient.http.NotFoundException: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Failure","message":"deploymentconfigs \"node-js\" not found","reason":"NotFound","details":{"name":"node-js","kind":"deploymentconfigs"},"code":404}

	at com.openshift.internal.restclient.http.UrlConnectionHttpClient.createException(UrlConnectionHttpClient.java:276)
	at com.openshift.internal.restclient.http.UrlConnectionHttpClient.request(UrlConnectionHttpClient.java:211)
	at com.openshift.internal.restclient.http.UrlConnectionHttpClient.request(UrlConnectionHttpClient.java:187)
	at com.openshift.internal.restclient.http.UrlConnectionHttpClient.get(UrlConnectionHttpClient.java:149)
	at com.openshift.internal.restclient.DefaultClient.get(DefaultClient.java:308)
	... 13 more
Caused by: java.io.FileNotFoundException: https://10.2.2.2:8443/oapi/v1/namespaces/restful-node/deploymentconfigs/node-js
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1836)
	at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)
	at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)
	at com.openshift.internal.restclient.http.UrlConnectionHttpClient.request(UrlConnectionHttpClient.java:207)
	... 16 more
Build step 'Trigger OpenShift Deployment' marked build as failure
Finished: FAILURE
